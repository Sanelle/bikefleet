<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BikeFleet - Premium Eco-Friendly Delivery</title>
  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Animate.css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg bg-body-tertiary fixed-top shadow-sm">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">BikeFleet</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="#home">Home</a></li>
          <li class="nav-item"><a class="nav-link" href="#how-it-works">How It Works</a></li>
          <li class="nav-item"><a class="nav-link" href="#services">Services</a></li>
          <li class="nav-item"><a class="nav-link" href="#track">Track</a></li>
          <li class="nav-item"><a class="nav-link" href="#contact">Contact</a></li>
          <!-- These become visible after login -->
          <li class="nav-item d-none" id="dashboardNav"><a class="nav-link" href="#dashboard">Dashboard</a></li>
          <li class="nav-item d-none" id="profileNav"><a class="nav-link" href="#profile">Profile</a></li>
          <li class="nav-item">
            <button class="btn btn-outline-success ms-2" data-bs-toggle="modal" data-bs-target="#authModal" id="loginButton">
              Login / Sign Up
            </button>
          </li>
          <li class="nav-item">
            <button class="btn btn-success ms-2" data-bs-toggle="modal" data-bs-target="#bookingModal">
              Book Now
            </button>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section id="home" class="hero vh-100 d-flex align-items-center">
    <div class="container text-center text-white">
      <h1 class="display-4 fw-bold mb-4 animate__animated animate__fadeInUp">Fast & Sustainable Deliveries</h1>
      <p class="lead mb-5 animate__animated animate__fadeInUp delay-1">
        Zero-emission delivery solutions for modern cities
      </p>
      <button class="btn btn-lg btn-light text-success fw-bold animate__animated animate__fadeInUp delay-2" 
              data-bs-toggle="modal" 
              data-bs-target="#bookingModal">
        Schedule Delivery
      </button>
    </div>
  </section>

  <!-- How It Works Section -->
  <section id="how-it-works" class="py-5 bg-light">
    <div class="container">
      <h2 class="text-center mb-5 fw-bold">How It Works</h2>
      <div class="row">
        <div class="col-md-4">
          <div class="text-center">
            <i class="fas fa-map-marker-alt fa-3x text-success mb-3"></i>
            <h5 class="fw-bold">Schedule</h5>
            <p>Select your pickup and dropoff locations and schedule your delivery with ease.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="text-center">
            <i class="fas fa-biking fa-3x text-success mb-3"></i>
            <h5 class="fw-bold">Ride</h5>
            <p>Our eco-friendly bikes take your package on a fast, sustainable journey.</p>
          </div>
        </div>
        <div class="col-md-4">
          <div class="text-center">
            <i class="fas fa-smile fa-3x text-success mb-3"></i>
            <h5 class="fw-bold">Delivered</h5>
            <p>Receive real-time updates and enjoy hassle-free delivery to your doorstep.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section id="services" class="py-5">
    <div class="container">
      <h2 class="text-center mb-5 fw-bold">Our Delivery Options</h2>
      <div class="row g-4">
        <div class="col-md-4">
          <div class="card h-100 border-0 shadow-sm hover-effect">
            <img src="assets/e-bike.jpg" class="card-img-top" alt="E-Bike">
            <div class="card-body">
              <h5 class="card-title fw-bold">E-Bike Express</h5>
              <p class="text-muted">Under 5kg parcels â€¢ 30-min delivery window</p>
              <ul class="list-unstyled">
                <li class="mb-2"><i class="fas fa-bolt text-success me-2"></i>Up to 15km range</li>
                <li class="mb-2"><i class="fas fa-leaf text-success me-2"></i>Carbon neutral</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Tracking Section -->
  <section id="track" class="bg-light py-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-md-6">
          <h2 class="fw-bold mb-4">Real-time Package Tracking</h2>
          <div class="input-group mb-3">
            <input type="text" class="form-control form-control-lg" placeholder="Enter tracking number">
            <button class="btn btn-success" onclick="trackDelivery()">Track</button>
          </div>
        </div>
        <div class="col-md-6">
          <div id="liveMap" class="rounded-3 shadow-sm" style="height: 400px"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Booking Modal -->
  <div class="modal fade" id="bookingModal" tabindex="-1" aria-labelledby="bookingModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title fw-bold" id="bookingModalLabel">New Delivery Request</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <form id="deliveryForm" class="needs-validation" novalidate>
          <div class="modal-body">
            <div class="row g-3">
              <!-- Pickup/Dropoff Section -->
              <div class="col-md-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="pickup" placeholder="Enter pickup address" required data-address-autocomplete>
                  <label for="pickup"><i class="fas fa-map-marker-alt me-2"></i>Pickup Address</label>
                  <div class="invalid-feedback">Please enter a valid pickup address</div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-floating">
                  <input type="text" class="form-control" id="dropoff" placeholder="Enter dropoff address" required data-address-autocomplete>
                  <label for="dropoff"><i class="fas fa-flag-checkered me-2"></i>Dropoff Address</label>
                  <div class="invalid-feedback">Please enter a valid dropoff address</div>
                </div>
              </div>

              <!-- Transport Type -->
              <div class="col-md-6">
                <div class="form-floating">
                  <select class="form-select" id="transportType" required>
                    <option value="electric">Electric Powered Bicycle (R15.00)</option>
                    <option value="motor">Motor Powered Bicycle (R15.00)</option>
                    <option value="scooter">Scooter (R20.00)</option>
                    <option value="bike">Bike (R20.00)</option>
                  </select>
                  <label for="transportType"><i class="fas fa-motorcycle me-2"></i>Transport Type</label>
                </div>
              </div>

              <!-- Item Type -->
              <div class="col-md-6">
                <div class="form-floating">
                  <select class="form-select" id="itemType" required>
                    <option value="takeaway">Take Aways</option>
                    <option value="documents">Documents</option>
                    <option value="parcel">Parcel</option>
                    <option value="other">Other</option>
                  </select>
                  <label for="itemType"><i class="fas fa-box me-2"></i>Item Type</label>
                </div>
              </div>

              <!-- Delivery Options -->
              <div class="col-md-6">
                <div class="form-floating">
                  <input type="datetime-local" class="form-control" id="deliveryTime" required>
                  <label for="deliveryTime"><i class="fas fa-clock me-2"></i>Preferred Time</label>
                </div>
              </div>
              <div class="col-md-6">
                <div class="form-floating">
                  <select class="form-select" id="insurance" required>
                    <option value="none">No Insurance (R0)</option>
                    <option value="insurance">Insurance (R10)</option>
                  </select>
                  <label for="insurance"><i class="fas fa-shield-alt me-2"></i>Package Insurance</label>
                </div>
              </div>

              <!-- Special Instructions -->
              <div class="col-12">
                <div class="form-floating">
                  <textarea class="form-control" id="instructions" placeholder="Special instructions" style="height: 100px"></textarea>
                  <label for="instructions"><i class="fas fa-comment-dots me-2"></i>Special Instructions</label>
                </div>
              </div>

              <!-- Payment Section -->
              <div class="col-12">
                <div class="border-top pt-3">
                  <h6 class="mb-3 fw-bold">Payment Method</h6>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="payment" id="card" value="card" required>
                    <label class="form-check-label" for="card">
                      <i class="fab fa-cc-visa me-2"></i>Credit/Debit Card
                    </label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="payment" id="wallet" value="wallet">
                    <label class="form-check-label" for="wallet">
                      <i class="fas fa-wallet me-2"></i>E-Wallet
                    </label>
                  </div>
                  <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="payment" id="cod" value="cod">
                    <label class="form-check-label" for="cod">
                      <i class="fas fa-rupee-sign me-2"></i>Cash on Delivery
                    </label>
                  </div>
                </div>
              </div>

              <!-- Promo Code -->
              <div class="col-md-6">
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Promo code" id="promoCode">
                  <button class="btn btn-outline-secondary" type="button">Apply</button>
                </div>
              </div>

              <!-- Price Summary -->
              <div class="col-md-6">
                <div class="card bg-light">
                  <div class="card-body">
                    <h6 class="card-title fw-bold">Price Estimate</h6>
                    <div class="d-flex justify-content-between">
                      <span>Base Fare:</span>
                      <span id="basePrice">R20</span>
                    </div>
                    <div class="d-flex justify-content-between">
                      <span>Insurance:</span>
                      <span id="insuranceCost">R0</span>
                    </div>
                    <div class="d-flex justify-content-between fw-bold">
                      <span>Total:</span>
                      <span id="totalPrice">R20</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-success w-100 py-3 fw-bold">
              Confirm Booking (R<span id="finalPrice">20</span>)
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Authentication Modal -->
  <div class="modal fade" id="authModal" tabindex="-1" aria-labelledby="authModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title fw-bold" id="authModalLabel">Login / Sign Up</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <ul class="nav nav-tabs mb-3" id="authTab" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab" aria-controls="login" aria-selected="true">Login</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="signup-tab" data-bs-toggle="tab" data-bs-target="#signup" type="button" role="tab" aria-controls="signup" aria-selected="false">Sign Up</button>
            </li>
          </ul>
          <div class="tab-content" id="authTabContent">
            <div class="tab-pane fade show active" id="login" role="tabpanel" aria-labelledby="login-tab">
              <form id="loginForm">
                <div class="mb-3">
                  <label for="loginEmail" class="form-label">Email address</label>
                  <input type="email" class="form-control" id="loginEmail" placeholder="name@example.com" required>
                </div>
                <div class="mb-3">
                  <label for="loginPassword" class="form-label">Password</label>
                  <input type="password" class="form-control" id="loginPassword" required>
                </div>
                <button type="submit" class="btn btn-success w-100">Login</button>
              </form>
            </div>
            <div class="tab-pane fade" id="signup" role="tabpanel" aria-labelledby="signup-tab">
              <form id="signupForm">
                <div class="mb-3">
                  <label for="signupName" class="form-label">Full Name</label>
                  <input type="text" class="form-control" id="signupName" required>
                </div>
                <div class="mb-3">
                  <label for="signupEmail" class="form-label">Email address</label>
                  <input type="email" class="form-control" id="signupEmail" placeholder="name@example.com" required>
                </div>
                <div class="mb-3">
                  <label for="signupPassword" class="form-label">Password</label>
                  <input type="password" class="form-control" id="signupPassword" required>
                </div>
                <div class="mb-3">
                  <label for="signupConfirmPassword" class="form-label">Confirm Password</label>
                  <input type="password" class="form-control" id="signupConfirmPassword" required>
                </div>
                <button type="submit" class="btn btn-success w-100">Sign Up</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Dashboard Section (visible after login) -->
  <section id="dashboard" class="py-5" style="display:none;">
    <div class="container">
      <h2 class="mb-4 fw-bold">Your Dashboard</h2>
      <div class="row mb-4">
        <div class="col-md-6">
          <input type="text" class="form-control" id="filterTrips" placeholder="Filter trips...">
        </div>
        <div class="col-md-6">
          <select class="form-select" id="tripStatusFilter">
            <option value="all">All Trips</option>
            <option value="completed">Completed</option>
            <option value="pending">Pending</option>
          </select>
        </div>
      </div>
      <div class="row" id="tripsList">
        <!-- Previous trips will be loaded here -->
      </div>
    </div>
  </section>

  <!-- Profile Section (visible after login) -->
  <section id="profile" class="py-5" style="display:none;">
    <div class="container">
      <h2 class="mb-4 fw-bold">Your Profile</h2>
      <form id="profileForm" class="needs-validation" novalidate>
        <div class="row g-3">
          <div class="col-md-6">
            <div class="form-floating">
              <input type="text" class="form-control" id="fullName" placeholder="Full Name" required>
              <label for="fullName">Full Name</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating">
              <input type="email" class="form-control" id="email" placeholder="Email" required>
              <label for="email">Email</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating">
              <input type="text" class="form-control" id="address" placeholder="Address" required>
              <label for="address">Address</label>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-floating">
              <input type="text" class="form-control" id="paymentInfo" placeholder="Payment Information">
              <label for="paymentInfo">Payment Information</label>
            </div>
          </div>
          <div class="col-md-12">
            <div class="form-group">
              <label for="profilePicture">Profile Picture</label>
              <input type="file" class="form-control" id="profilePicture" accept="image/*">
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary mt-3">Update Profile</button>
      </form>
    </div>
  </section>

<!-- Admin Dashboard Section -->
<section id="adminDashboard" class="py-5" style="display:none;">
  <div class="container">
    <h2 class="mb-4 fw-bold">Admin Dashboard</h2>
    
    <!-- Delivery Requests Table -->
    <div class="card shadow-sm mb-4">
      <div class="card-header bg-primary text-white">
        <h5 class="mb-0">Active Delivery Requests</h5>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-hover" id="requestsTable">
            <thead>
              <tr>
                <th>Request ID</th>
                <th>Customer</th>
                <th>Pickup</th>
                <th>Dropoff</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Available Drivers Card -->
    <div class="card shadow-sm">
      <div class="card-header bg-success text-white">
        <h5 class="mb-0">Available Drivers</h5>
      </div>
      <div class="card-body">
        <div class="row" id="driversList"></div>
      </div>
    </div>
  </div>
</section>

<!-- Assign Driver Modal -->
<div class="modal fade" id="assignDriverModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Assign Driver</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div id="availableDrivers"></div>
      </div>
    </div>
  </div>
</div>
  <!-- Fixed Footer Menu (visible after login) -->
  <footer class="footer-menu fixed-bottom bg-white shadow-lg d-none" id="footerMenu">
    <div class="container">
      <div class="row justify-content-center">
        <div class="col-auto">
          <a href="#dashboard" class="footer-menu-item">
            <i class="fas fa-tachometer-alt fa-2x"></i>
            <span>Dashboard</span>
          </a>
        </div>
        <div class="col-auto">
          <a href="#profile" class="footer-menu-item">
            <i class="fas fa-user fa-2x"></i>
            <span>Profile</span>
          </a>
        </div>
        <div class="col-auto">
          <a href="#settings" class="footer-menu-item">
            <i class="fas fa-cog fa-2x"></i>
            <span>Settings</span>
          </a>
        </div>
        <div class="col-auto">
          <a href="#more" class="footer-menu-item">
            <i class="fas fa-ellipsis-h fa-2x"></i>
            <span>More</span>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Toast Notification -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
    <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
      <div class="toast-header">
        <strong class="me-auto" id="toastTitle"></strong>
        <small>Now</small>
        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
      </div>
      <div class="toast-body" id="toastBody"></div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/places.js@1.19.0"></script>
  <script src="scripts.js"></script>
</body>
</html>
